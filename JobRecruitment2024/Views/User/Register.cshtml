@model JobRecruitment2024.Models.Users
@{
    ViewBag.Title = "User Registration";
}



<h2>@ViewBag.Title</h2>

<div id="errorMessage" style="display: none; color: red;">Passwords do not match!</div>

@if (ViewBag.SuccessMessage != null)
{
    <p>@ViewBag.SuccessMessage</p>
    <script>
        setTimeout(function () {
            window.location.href = '@Url.Action("UserLoginPage", "User")';
        }, 3000);
    </script>
}
@if (ViewBag.ErrorMessage != null)
{
    <p>@ViewBag.ErrorMessage</p>
}

@using (Html.BeginForm("Register", "User", FormMethod.Post, new { id = "registrationForm" }))
{
    @Html.LabelFor(model => model.tc, "TC:")
    @Html.TextBoxFor(model => model.tc, new { maxlength = "11", required = "required" })
    @Html.Raw("<br><br>")

    @Html.LabelFor(model => model.name, "Name:")
    @Html.TextBoxFor(model => model.name, new { maxlength = "15", required = "required" })
    @Html.Raw("<br><br>")

    @Html.LabelFor(model => model.surname, "Surname:")
    @Html.TextBoxFor(model => model.surname, new { maxlength = "15", required = "required" })
    @Html.Raw("<br><br>")

    @Html.LabelFor(model => model.email, "Email:")
    @Html.TextBoxFor(model => model.email, new { maxlength = "50", type = "email", required = "required" })
    @Html.Raw("<br><br>")

    @Html.LabelFor(model => model.password, "Password:")
    @Html.PasswordFor(model => model.password, new { maxlength = "10", id = "Password", required = "required" })
    @Html.Raw("<br><br>")

    @Html.Label("PasswordAgain", "Password Again:")
    @Html.Password("PasswordAgain", null, new { maxlength = "10", id = "PasswordAgain", required = "required" })
    @Html.Raw("<br><br>")

    @Html.LabelFor(model => model.phone_num, "Phone Number:")
    @Html.TextBoxFor(model => model.phone_num, new { maxlength = "11", required = "required" })
    @Html.Raw("<br><br>")


    <button type="submit">Register</button>
}

<script>
    document.getElementById('registrationForm').addEventListener('submit', function (event) {
        var password = document.getElementById('Password').value;
        var passwordAgain = document.getElementById('PasswordAgain').value;
        var errorMessage = document.getElementById('errorMessage');

        if (password !== passwordAgain) {
            errorMessage.style.display = 'block';
            event.preventDefault();
        } else {
            errorMessage.style.display = 'none';
        }
    });
</script>